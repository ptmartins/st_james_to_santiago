---
import { Image } from 'astro:assets';

let count = 100;
---

<section class="section section--hero">
    <div class="inner-container">
        <!-- <h2 class="section__title">From St. James to Santiago</h2> -->
        <p class="section__subTitle">Lorem ipsum, dolor sit amet consectetur adipisicing elit.</p>

        <!-- Countdown Timer -->
        <div class="tick" data-did-init="handleTickInit">
            <div
                data-repeat="true"
                data-layout="horizontal center fit"
                data-transform="preset(d, h, m, s) -> delay"
            >
                <div class="tick-group">
                    <div
                        data-key="value"
                        data-repeat="true"
                        data-transform="pad(00) -> split -> delay"
                    >
                        <span data-view="flip"></span>
                    </div>

                    <span data-key="label" data-view="text" class="tick-label"></span>
                </div>
            </div>
        </div>

    </div>
</section>

<style>
    .section--hero {
        margin-block: 0;
        min-height: unset;
    }

    .hero__bg {
        height: 70vh;
        object-fit: cover;
        object-position: bottom;
        width: 100%;
    }

    .tick {
        font-size:1rem; 
        white-space:nowrap; 
        font-family:arial,sans-serif;
    }

    .tick-flip,.tick-text-inline {
        font-size: 2.5em;
    }

    .tick-label {
        margin-top:1em;
        font-size:1em;
    }

    .tick-char {
        width:1.5em;
    }

    .tick-text-inline {
        display:inline-block;
        text-align:center;
        min-width:1em;
    }

    .tick-text-inline+.tick-text-inline {
        margin-left:-.325em;
    }

    .tick-group {
        margin:0 .5em;
        text-align:center;
    }

    .tick-text-inline {
        color: rgb(90, 93, 99) !important; 
    }

    .tick-label {
        color: rgb(90, 93, 99) !important; 
    }

    .tick-flip-panel {
        color: rgb(255, 255, 255) !important; 
    }

    .tick-flip {
        font-family: !important; 
    }

    .tick-flip-panel-text-wrapper {
        line-height: 1.45 !important; 
    }

    .tick-flip-panel {
        background-color: rgb(59, 61, 59) !important; 
    }

    .tick-flip {
        border-radius:0.12em !important; 
    }
</style>


<script is:inline>
    function handleTickInit(tick) {

        // get timer offset (if not found, set to today)
        var offset = new Date( localStorage.getItem('countdown-offset') || new Date() );

        // store the offset (not really necessary but saves some if statements)
        localStorage.setItem('countdown-offset', offset);

        // time in hours the timer will run down
        var timeDuration = Tick.helper.duration(1, 'days');

        // add 24 hours to get final deadline
        var deadline = new Date('2026-10-06T00:00:00Z');

        // create counter
        var counter = Tick.count.down(deadline, { format: ['d', 'h' ,'m', 's'] } );

        // update tick with the counter value
        counter.onupdate = function(value) {
            tick.value = value;
        };

        counter.onended = function() {
            // redirect, uncomment the next line
            // window.location = 'my-location.html'

            // hide counter, uncomment the next line
            // tick.root.style.display = 'none';

            // show message, uncomment the next line
            // document.querySelector('.tick-onended-message').style.display = '';
        };
    }
</script>


	<script is:inline src="/js/flip.min.js"></script>